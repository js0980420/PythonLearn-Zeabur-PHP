# ğŸŒ ç«¯å£é…ç½®ç¸½çµ - PythonLearn

## ğŸ“‹ ç«¯å£åˆ†é…ç­–ç•¥

ç‚ºäº†é¿å…æ¸¬è©¦ç’°å¢ƒèˆ‡æ­£å¼ç‰ˆè¡çªï¼Œæˆ‘å€‘æ¡ç”¨äº†åˆ†é›¢çš„ç«¯å£é…ç½®ç­–ç•¥ï¼š

---

## ğŸ  æ­£å¼ç‰ˆæœå‹™å™¨ç«¯å£

### ä¸»è¦æœå‹™
- **ğŸŒ ä¸»Webæœå‹™å™¨**: `localhost:8080`
- **ğŸ”Œ WebSocketæœå‹™å™¨**: `localhost:8080` (åŒä¸€ç«¯å£ï¼Œä¸åŒå”è­°)
- **ğŸ“Š APIç«¯é»**: `localhost:8080/api/*`

### ç‰¹é»
- æ‰€æœ‰æ­£å¼åŠŸèƒ½éƒ½åœ¨ `8080` ç«¯å£
- ç”Ÿç”¢ç’°å¢ƒä½¿ç”¨çš„æ¨™æº–é…ç½®
- ç”¨æˆ¶å¯¦éš›ä½¿ç”¨çš„æœå‹™ç«¯å£

---

## ğŸ§ª æ¸¬è©¦ç’°å¢ƒç«¯å£

### ç¨ç«‹æ¸¬è©¦æœå‹™å™¨
- **ğŸ”Œ APIæ¸¬è©¦æœå‹™å™¨**: `localhost:9081`
- **ğŸŒ WebSocketæ¸¬è©¦æœå‹™å™¨**: `localhost:9082`
- **ğŸ“ å‰ç«¯æ¸¬è©¦æœå‹™å™¨**: `localhost:9083`
- **ğŸ”„ æ•´åˆæ¸¬è©¦æœå‹™å™¨**: `localhost:9084` (é ç•™)

### ç‰¹é»
- ä½¿ç”¨ `90xx` ç³»åˆ—ç«¯å£ï¼Œé¿å…è¡çª
- å®Œå…¨ç¨ç«‹æ–¼æ­£å¼ç‰ˆ
- å¯ä»¥åŒæ™‚é‹è¡Œè€Œä¸äº’ç›¸å½±éŸ¿

---

## ğŸ”„ ä½¿ç”¨å ´æ™¯

### é–‹ç™¼éšæ®µ
```bash
# æ­£å¼ç‰ˆæœå‹™å™¨ (8080)
php -S localhost:8080 router.php

# æ¸¬è©¦æœå‹™å™¨ (90xx)
scripts\start-test-servers.bat
```

### æ¸¬è©¦éšæ®µ
```bash
# åŒæ™‚é‹è¡Œæ­£å¼ç‰ˆå’Œæ¸¬è©¦ç‰ˆ
# æ­£å¼ç‰ˆ: http://localhost:8080
# æ¸¬è©¦ç‰ˆ: http://localhost:9081, ws://localhost:9082, http://localhost:9083
```

### æ•´åˆæ¸¬è©¦
```bash
# æ•´åˆæ¸¬è©¦ç’°å¢ƒ (åŒ…å«æ­£å¼ç‰ˆ + æ¸¬è©¦ç‰ˆ)
scripts\start-test-servers.bat
é¸æ“‡ [5] æ•´åˆæ¸¬è©¦
```

---

## ğŸ“Š ç«¯å£æª¢æŸ¥å‘½ä»¤

### Windows (PowerShell/CMD)
```bash
# æª¢æŸ¥ç«¯å£å ç”¨
netstat -an | findstr ":8080"
netstat -an | findstr ":9081"
netstat -an | findstr ":9082"
netstat -an | findstr ":9083"

# æª¢æŸ¥ç‰¹å®šç«¯å£
netstat -ano | findstr ":8080"
```

### åœæ­¢å ç”¨ç«¯å£çš„é€²ç¨‹
```bash
# æŸ¥æ‰¾é€²ç¨‹ID
netstat -ano | findstr ":8080"

# åœæ­¢é€²ç¨‹ (æ›¿æ› PID ç‚ºå¯¦éš›é€²ç¨‹ID)
taskkill /PID <PID> /F

# åœæ­¢æ‰€æœ‰PHPé€²ç¨‹
taskkill /f /im php.exe
```

---

## ğŸš¨ ç«¯å£è¡çªè§£æ±º

### å¸¸è¦‹è¡çªæƒ…æ³
1. **8080ç«¯å£è¢«å ç”¨**
   - æª¢æŸ¥æ˜¯å¦æœ‰å…¶ä»–Webæœå‹™å™¨é‹è¡Œ
   - æª¢æŸ¥XAMPPã€WAMPç­‰æ˜¯å¦å•Ÿå‹•
   - æª¢æŸ¥å…¶ä»–PHPé–‹ç™¼æœå‹™å™¨

2. **90xxç«¯å£è¢«å ç”¨**
   - æª¢æŸ¥æ˜¯å¦æœ‰å…¶ä»–æ¸¬è©¦æœå‹™å™¨é‹è¡Œ
   - æª¢æŸ¥é˜²ç«ç‰†è¨­ç½®
   - æª¢æŸ¥å…¶ä»–é–‹ç™¼å·¥å…·

### è§£æ±ºæ­¥é©Ÿ
```bash
# 1. æª¢æŸ¥ç«¯å£å ç”¨
netstat -ano | findstr ":8080"

# 2. åœæ­¢è¡çªé€²ç¨‹
taskkill /PID <PID> /F

# 3. é‡æ–°å•Ÿå‹•æœå‹™å™¨
php -S localhost:8080 router.php

# 4. é©—è­‰æœå‹™å™¨é‹è¡Œ
curl http://localhost:8080/api/status
```

---

## ğŸ”§ é…ç½®æ–‡ä»¶ä½ç½®

### æ¸¬è©¦æœå‹™å™¨é…ç½®
- **APIæ¸¬è©¦**: `test-servers/api-test/test_api_server.php`
- **WebSocketæ¸¬è©¦**: `test-servers/websocket-test/test_websocket_server.php`
- **å‰ç«¯æ¸¬è©¦**: `test-servers/frontend-test/test_complete_flow.html`

### å•Ÿå‹•è…³æœ¬é…ç½®
- **æ¸¬è©¦æœå‹™å™¨ç®¡ç†å™¨**: `scripts/start-test-servers.bat`
- **å¿«é€Ÿæ¸¬è©¦**: `scripts/quick-test.bat`
- **æäº¤å‰æª¢æŸ¥**: `scripts/pre-commit-check.bat`

---

## ğŸ“ ä¿®æ”¹ç«¯å£çš„æ­¥é©Ÿ

å¦‚æœéœ€è¦ä¿®æ”¹ç«¯å£é…ç½®ï¼Œè«‹æŒ‰ä»¥ä¸‹é †åºæ›´æ–°ï¼š

### 1. æ¸¬è©¦æœå‹™å™¨æ–‡ä»¶
```php
// test-servers/api-test/test_api_server.php
// ä¿®æ”¹è¨»é‡‹ä¸­çš„ç«¯å£è™Ÿå’Œç‹€æ…‹è¿”å›ä¸­çš„ç«¯å£

// test-servers/websocket-test/test_websocket_server.php  
// ä¿®æ”¹ IoServer::factory() çš„ç«¯å£åƒæ•¸
```

### 2. å‰ç«¯æ¸¬è©¦æ–‡ä»¶
```javascript
// test-servers/frontend-test/test_complete_flow.html
const API_BASE = 'http://localhost:æ–°ç«¯å£';
const WS_BASE = 'ws://localhost:æ–°ç«¯å£';
```

### 3. å•Ÿå‹•è…³æœ¬
```batch
// scripts/start-test-servers.bat
// æ›´æ–°æ‰€æœ‰ localhost:ç«¯å£ çš„å¼•ç”¨

// scripts/quick-test.bat
// æ›´æ–°æ¸¬è©¦URLå’Œç«¯å£æª¢æŸ¥
```

### 4. æ–‡æª”æ›´æ–°
```markdown
// DEVELOPMENT_WORKFLOW.md
// TEST_DRIVEN_DEVELOPMENT.md
// PORT_CONFIGURATION.md (æœ¬æ–‡ä»¶)
```

---

## ğŸ¯ æœ€ä½³å¯¦è¸

### âœ… ç«¯å£ç®¡ç†è¦ç¯„
1. **æ­£å¼ç‰ˆå›ºå®š**: 8080ç«¯å£å°ˆç”¨æ–¼æ­£å¼ç‰ˆ
2. **æ¸¬è©¦ç‰ˆåˆ†é›¢**: 90xxç³»åˆ—å°ˆç”¨æ–¼æ¸¬è©¦
3. **æ–‡æª”åŒæ­¥**: ç«¯å£è®Šæ›´å¿…é ˆæ›´æ–°æ‰€æœ‰ç›¸é—œæ–‡æª”
4. **è…³æœ¬ä¸€è‡´**: æ‰€æœ‰è…³æœ¬ä½¿ç”¨çµ±ä¸€çš„ç«¯å£é…ç½®

### âœ… é–‹ç™¼å»ºè­°
1. **å…ˆå•Ÿå‹•æ¸¬è©¦**: é–‹ç™¼æ–°åŠŸèƒ½æ™‚å…ˆå•Ÿå‹•æ¸¬è©¦ç’°å¢ƒ
2. **ä¸¦è¡Œé‹è¡Œ**: æ¸¬è©¦å’Œæ­£å¼ç‰ˆå¯ä»¥åŒæ™‚é‹è¡Œ
3. **ç«¯å£æª¢æŸ¥**: å•Ÿå‹•å‰æª¢æŸ¥ç«¯å£æ˜¯å¦å¯ç”¨
4. **æ¸…ç†è³‡æº**: æ¸¬è©¦å®Œæˆå¾ŒåŠæ™‚åœæ­¢æœå‹™å™¨

---

## ğŸ“ æŠ€è¡“æ”¯æ´

### å¸¸ç”¨æª¢æŸ¥å‘½ä»¤
```bash
# æª¢æŸ¥æ‰€æœ‰æœå‹™å™¨ç‹€æ…‹
curl http://localhost:8080/api/status    # æ­£å¼ç‰ˆ
curl http://localhost:9081/api/status    # APIæ¸¬è©¦
curl http://localhost:9082/status        # WebSocketæ¸¬è©¦
curl http://localhost:9083               # å‰ç«¯æ¸¬è©¦
```

### å¿«é€Ÿé‡å•Ÿ
```bash
# åœæ­¢æ‰€æœ‰PHPé€²ç¨‹
taskkill /f /im php.exe

# é‡æ–°å•Ÿå‹•æ¸¬è©¦ç’°å¢ƒ
scripts\start-test-servers.bat
```

---

**ğŸ¯ ç›®æ¨™**: é€šéæ¸…æ™°çš„ç«¯å£åˆ†é…ï¼Œç¢ºä¿é–‹ç™¼å’Œæ¸¬è©¦ç’°å¢ƒå®Œå…¨éš”é›¢ï¼Œé¿å…ç›¸äº’å¹²æ“¾ã€‚

**ğŸ“… æ›´æ–°æ—¥æœŸ**: 2025-06-07  
**ğŸ“ ç‰ˆæœ¬**: v1.0  
**ğŸ‘¥ é©ç”¨ç¯„åœ**: æ‰€æœ‰é–‹ç™¼äººå“¡ 